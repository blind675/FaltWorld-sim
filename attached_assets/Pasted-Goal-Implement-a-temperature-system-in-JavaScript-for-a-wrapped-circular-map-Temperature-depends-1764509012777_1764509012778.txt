Goal:
Implement a temperature system in JavaScript for a wrapped (circular) map. Temperature depends on:
- Altitude (meters, range [-200, 3000])
- "Latitude" on a vertically wrapped map
- Season / time of year
- Reversed seasons between opposite hemispheres
- Weak seasonal effect near the equator-like bands

Context:
- The world is a 2D grid, e.g. 500x500 now, up to 50000x50000 later.
- Coordinates: x in [0, worldWidth), y in [0, worldHeight).
- The map wraps vertically: going above the top row appears at the bottom row.
- A time/seasons engine exists that provides yearProgress in [0,1) = fraction of year.
- Language: JavaScript.

Define "latitude" on this circular vertical axis like this:
- theta = (y / worldHeight) * 2π
- lat = sin(theta)           // -1..1
- latFactor = abs(lat)       // 0 at equator bands, 1 at poles
- hemiSign: 0 if lat ~ 0, else +1 if lat > 0 (north), -1 if lat < 0 (south)

Temperature components:
- Base temperature (sea level, no season):
  - T_EQUATOR = 28°C
  - T_POLE_DIFF = 40°C
  - T_base = T_EQUATOR - T_POLE_DIFF * latFactor
- Altitude effect:
  - LAPSE_RATE = -0.006°C per meter (≈ -6°C / 1000 m)
  - effectiveAltitude = max(0, altitudeMeters)
  - T_altitude = LAPSE_RATE * effectiveAltitude
- Seasonal amplitude:
  - A_MIN = 2°C at equators
  - A_MAX = 15°C at poles
  - A = A_MIN + (A_MAX - A_MIN) * latFactor
- Seasonal variation over year:
  - yearProgress in [0,1), define 0.5 as mid-summer in the "north" (lat > 0)
  - seasonPhase = yearProgress - 0.5
  - seasonCos = cos(2π * seasonPhase)  // compute ONCE PER TICK, not per tile
  - T_season = A * seasonCos * hemiSign

Final temperature:
- T = T_base + T_altitude + T_season

Tasks:
1. Implement a reusable function in JavaScript, e.g.:

   function getTemperature({
     x,
     y,
     altitudeMeters,
     worldWidth,
     worldHeight,
     yearProgress,
     seasonCosOverride // optional precomputed cos factor
   }) { ... }

   using the formulas above.

2. Ensure the function only does simple arithmetic and branching per tile and can scale to 50k x 50k maps.
3. Precompute seasonCos each tick and pass it in so we don't call Math.cos per tile.
4. Add clear comments explaining:
   - The meaning of lat, latFactor, hemiSign.
   - What each constant controls.
5. Show example usage with the existing world/time systems in this project.
6. Make constants easily tunable (e.g. exported config or object).

Please inspect the existing codebase, detect where altitude and yearProgress are stored, and integrate this temperature system cleanly into the simulation.